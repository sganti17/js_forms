<!DOCTYPE html>
<html>

<head>
  <title>Form</title>
</head>

<body onload="init()">

  <form id="form1">

    <table cellspacing="2" cellpadding="2" border="1">
      <tr>
        <td> FirstName:</td>
        <td>
          <input id="box1" type="text" name="FirstName"> </td>

      </tr>

      <tr>
        <td> LastName:</td>
        <td>
          <input id="box2" type="text" name="LastName"> </td>

      </tr>

      <tr>
        <td> UserName:</td>
        <td>
          <input id="box3" type="text" name="userId"> </td>

      </tr>


      <tr>
        <td>Email Id:</td>
        <td>
          <input id="box4" type="email" name="Email"> </td>


      </tr>

      <tr>
        <td> Password:</td>
        <td>
          <input id="box5" type="password" name="password">
        </td>

      </tr>


      <tr>
        <td>Gender:
          <br/>
        </td>
        <td> Male
          <input id="box6" type="radio" name="Gender" value="Male"> Female
          <input id="box7" type="radio" name="Gender" value="Female"> </td>

      </tr>

      <tr align: center>
        <td align="center">
          <input id="box8" type="submit" name="submit" value="submit">
        </td>
      </tr>
    </table>
  </form>
  <br/>
  <br/>

  <aside class="">
    <table id="table" cellspacing="2" cellpadding="2" border="1">
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>user ID</th>
          <th>Email ID</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>

  </aside>

  <script>
    var userArray = [];

    
    var myform = document.getElementById("form1");

    myform.addEventListener("submit", function(e) {

          e.preventDefault(); 

            var x = document.getElementById("box1");

            console.log(x.value);
            if (x.value == "" || x.value == null) {

              var myElem = document.getElementById('err');
              if (myElem === null) {
                x.insertAdjacentHTML('afterend', '<div id=err, style="color:red">Please enter the Firstname</div>');
              }
            
             else {

                  var elem = document.getElementById('err');
                  return elem.parentNode.removeChild(elem);
            }

            }
            
            
            
            var y = document.getElementById("box2");
            if (y.value == "" || y.value == null) {


              var myElem = document.getElementById('err1');
              if (myElem === null) {
                y.insertAdjacentHTML('afterend', '<div id=err1, style="color:red">Please enter the Lastname</div>');
              }

             else {

              var elem = document.getElementById('err1');
              return elem.parentNode.removeChild(elem);
            }
            }



            var z = document.getElementById("box3");
            if (z.value == "" || z.value == null) {


              var myElem = document.getElementById('err2');
              if (myElem === null) {
                z.insertAdjacentHTML('afterend', '<div id=err2, style="color:red">Please enter the Username</div>');
              }

             else {

              var elem = document.getElementById('err2');
              return elem.parentNode.removeChild(elem);
            }
            }



            var a = document.getElementById("box4");
            if (a.value == "" || a.value == null) {
              var myElem = document.getElementById('err3');
              if (myElem === null) {
                a.insertAdjacentHTML('afterend', '<div id=err3, style="color:red">Please enter the EmailId</div>');
              }

             else {

              var elem = document.getElementById('err3');
              return elem.parentNode.removeChild(elem);


              }
            }






            var b = document.getElementById("box5");
            if (b.value == "" || b.value == null) {


              var myElem = document.getElementById('err4');
              if (myElem === null) {
                b.insertAdjacentHTML('afterend', '<div id=err4, style="color:red">Please enter the password</div>');
              }

             else {

              var elem = document.getElementById('err4');
              return elem.parentNode.removeChild(elem);

            
             }

            }



            var c = document.getElementById("box6").checked;
            var c1 = document.getElementById("box7").checked;
            if (c == false && c1 == false) {
              var myElem = document.getElementById('err5');
              if (myElem === null) {
                box7.insertAdjacentHTML('afterend', '<div id=err5, style="color:red">Please choose gender</div>');
              } 
            
              else {

                var elem = document.getElementById('err5');

                return elem.parentNode.removeChild(elem);

              }

              }

              var firstName = document.getElementById("box1").value;
              var lastName = document.getElementById("box2").value;
              var userId = document.getElementById("box3").value;
              var emailId = document.getElementById("box4").value;
       
              var userObj = {
                x: firstName,
                y: lastName,
                z: userId,
                a: emailId
              };
             if(firstName.length && lastName.length && userId.length && emailId.lenth !==0){
              userArray.push(userObj);
             
              localStorage.userRecord = JSON.stringify(userArray);

              prepareTableCell(firstName, lastName, userId, emailId);
             } 
    });
  


          function init() {

            if (localStorage.userRecord) {
              userArray = JSON.parse(localStorage.userRecord);
              for (var i = 0; i < userArray.length; i++) {
                prepareTableCell(userArray[i].x, userArray[i].y, userArray[i].z, userArray[i].a);
              }

            }
          }

          function prepareTableCell(firstName, lastName, userId, emailId) {
            var table = document.getElementById("table");
            var row = table.insertRow();
            var firstNameCell = row.insertCell(0);
            var lastNameCell = row.insertCell(1);
            var userIdCell = row.insertCell(2);
            var emailIdCell = row.insertCell(3);

            firstNameCell.innerHTML = firstName;
            lastNameCell.innerHTML = lastName;
            userIdCell.innerHTML = userId;
            emailIdCell.innerHTML = emailId;

          }
  </script>
</body>
</html>
